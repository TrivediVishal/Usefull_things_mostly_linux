#To set battery charging leverl use the following steps

ls /sys/class/power_supply/
ls /sys/class/power_supply/BAT0 #replace BAT0 with the battery name from the last step if needed
sudo sh -c "echo 80 > /sys/class/power_supply/BAT0/charge_control_start_threshold" # use only if charge_control_start_threshold is visble in the previous step
sudo sh -c "echo 88 > /sys/class/power_supply/BAT0/charge_control_end_threshold" # change the 80 or 88 to the desired level.

#to make the above permeneant

sudo nano /etc/systemd/system/battery-charge-end-threshold.service

#paste this in the file which has been opened by the above command

[Unit]
Description=Set Battery Charge Maximum Limit
After=multi-user.target
StartLimitBurst=0

[Service]
Type=oneshot
Restart=on-failure
ExecStart=/bin/bash -c 'echo 80 > /sys/class/power_supply/BAT0/charge_control_end_threshold'

[Install]
WantedBy=multi-user.target

#once you have save the above file enter the following commands

systemctl enable battery-charge-end-threshold.service
systemctl daemon-reload
systemctl start battery-charge-end-threshold.service

Reference for the above: https://ubuntuhandbook.org/index.php/2024/02/limit-battery-charge-ubuntu/


------------------------------------------------------------------------------------------------------------

#Get docket desktop to work with Ubuntu 24.04 LTS

1: sudo nano /etc/apparmor.d/opt.docker-desktop.bin.com.docker.backend

2: Add the following in the above file

abi <abi/4.0>,

include <tunables/global>

/opt/docker-desktop/bin/com.docker.backend flags=(default_allow) {
  userns,

  # Site-specific additions and overrides. See local/README for details.
  include if exists <local/opt.docker-desktop.bin.com.docker.backend>
}

3: Run 

sudo systemctl restart apparmor.service

Reference: https://askubuntu.com/questions/1511725/ubuntu-24-04-docker-desktop-is-not-starting/1519662#1519662


--

sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
sudo sysctl -w kernel.apparmor_restrict_unprivileged_userns=0
systemctl --user restart docker-desktop
pg --generate-key
pass init <Key that was generated from the previous line>


---------------------------------------------------------------------